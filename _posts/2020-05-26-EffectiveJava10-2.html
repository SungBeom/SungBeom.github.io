---
layout: post
title: "[Effective Java]과도한 동기화는 피하라"
subtitle: "동시성, 두 번째 아이템"
date: 2020-05-26 23:50:00
background: '/img/posts/EffectiveJava.jpg'
---

<h2 class="section-heading">동기화의 목적 및 필요성</h2>

<p style="font-family: NanumGothic">
    과도한 동기화는 성능을 떨어뜨리고, 교착상태에 빠뜨리고, 심지어 예측할 수 없는 동작을 낳기도 한다.
    <strong>응답 불가와 안전 실패를 피하려면 동기화 메소드나 동기화 블록 안에서는 제어를 절대로 클라이언트에 양도하면 안 된다.</strong>
    예를 들어 동기화된 영역 안에서는 재정의할 수 있는 메소드는 호출하면 안 되며, 클라이언트가 넘겨준 함수 객체를 호출해서도 안 된다.
    동기화된 영역을 포함한 클래스 관점에서는 이런 메소드는 모두 바깥 세상에서 온 외계인인데, 그 메소드가 무슨 일을 할지 알지 못하여 통제할 수도 없다는 뜻이다.
    외계인 메소드(alien method)가 하는 일에 따라 동기화된 영역은 예외를 일으키거나, 교착상태에 빠지거나, 데이터를 훼손할 수도 있다.
</p>

<br>

<h2 class="section-heading" style="color: red">핵심 정리</h2>

<p style="font-family: NanumGothic">
    교착상태와 데이터 훼손을 피하려면 동기화 영역 안에서 외계인 메소드를 절대 호출하지 말자.
    일반화해 이야기하면, 동기화 영역 안에서의 작업은 최소한으로 줄이자.
    가변 클래스를 설계할 때는 스스로 동기화해야 할지 고민하자.
    멀티코어 세상인 지금은 과도한 동기화를 피하는 게 과거 어느 때보다 중요하다.
    합당한 이유가 있을 때만 내부에서 동기화하고, 동기화했는지 여부를 문서에 명확히 밝히자.
</p>
